# Documentation
> MAKE SURE MERMAID VS CODE EXTENTAION IS INSTALLED AND ENABLED.

## ØªÙˆØ¶ÛŒØ­Ø§Øª ØºÛŒØ± ØªÚ©Ù†ÛŒÚ©Ø§Ù„!

Ø®Ø¨ ØªÙˆÛŒ Ø§ÛŒÙ† Ú†Ù„Ù†Ø¬ Ù…Ù† ØªÙ„Ø§Ø´ Ú©Ø±Ø¯Ù… Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§ÙˆÙ„ÛŒÙ† ØªØ¬Ø±Ø¨Ù‡ Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± Ù¾ÛŒØ§Ø¯Ù‡ Ú©Ù†Ù….

Ø±ÙˆÙ†Ø¯ Ú©Ø§Ø± Ø¨Ù‡ Ø§ÛŒÙ† ØµÙˆØ±Øª Ø¨ÙˆØ¯ Ú©Ù‡ Ù…Ù† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± Ø±Ùˆ ÛŒÙ‡ Ù†Ú¯Ø§Ù‡ÛŒ Ø§Ù†Ø¯Ø§Ø®ØªÙ…ØŒ Ø®Ø¨ Ø·Ø¨ÛŒØ¹ØªØ§ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø¨ÙˆØ¯ØŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù… Ùˆ ØªÙ„Ø§Ø´ Ú©Ø±Ø¯Ù… ÛŒÙ‡ Ø³Ø§Ø®ØªØ§Ø± Ú©Ù„ÛŒ Ø¨Ø±Ø§Ø´ Ù¾ÛŒØ§Ø¯Ù‡ Ú©Ù†Ù… ÙˆÙ„ÛŒ Ø¢Ø´Ù†Ø§ Ù†Ø¨ÙˆØ¯Ù† Ø¨Ø§ Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± ÛŒØ§ Ø¯Ù‚ÛŒÙ‚ ØªØ± Ø¨Ú¯Ù… Ø¨Ø®Ø§Ø·Ø± Ù†Ø¯Ø§Ø´ØªÙ† Ø°Ù‡Ù†ÛŒ Ú©Ù‡ Ø§Ù†Ú¯ÙˆÙ„Ø§Ø±ÛŒ ÙÚ©Ø± Ú©Ù†Ù‡ Ù†Ù…ÛŒ ØªÙˆÙ†Ø³ØªÙ… Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø±Ø³ØªÛŒ Ø¨Ø¯Ø³Øª Ø¨ÛŒØ§Ø±Ù…
Ø¯Ø± Ø§ÛŒÙ† Ø­Ø¯ Ø¨Ú¯Ù… Ú©Ù‡ Ø§ÙˆÙ…Ø¯Ù… Ù†ÙˆØ´ØªÙ… Signal Ø¨Ø¹Ø¯ Ø¯ÛŒØ¯Ù… Ø³Ø§Ù¾ÙˆØ±Øª Ù†Ù…ÛŒØ´Ù‡ØŒ Ø¨Ø¹Ø¯ package.json Ø±Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù… Ø¯ÛŒØ¯Ù… Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± Û±Û³ Ø¹Ù‡! Ø¨Ø¹Ø¯ Ø¨Ø§ ÛŒÙ‡ Ø¯Ø³Øª Ø²Ø¯Ù… ØªÙˆ Ø³Ø± Ø®ÙˆØ¯Ù… Ùˆ Ø±ÙØªÙ… Ø¯Ø§Ú© Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± ÙˆØ±Ú˜Ù† Û±Û³ Ø±Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù…ØŒ Ø§ÙˆÙ† Ù…ÙˆÙ‚Ø¹ Ø¯Ùˆ Ø¯Ø³ØªÛŒ Ø²Ø¯Ù… ØªÙˆ Ø³Ø± Ø®ÙˆØ¯Ù…! ğŸ˜¬

Ø§ÛŒÙ†Ø¬Ø§ Ø®ÛŒÙ„ÛŒ Ù†Ø§ Ø§Ù…ÛŒØ¯ Ø´Ø¯Ù… Ú†ÙˆÙ† ÙˆØ§Ù‚Ø¹Ø§ Ù†Ù…ÛŒ ØªÙˆÙ†Ø³ØªÙ… Ù¾Ø±ÙˆÚ˜Ù‡ Ù¾ÛŒØ´ Ø¨Ø¨Ø±Ù… Ú©Ù‡ Ø¯Ùˆ Ø±Ø§Ù‡ Ø¯Ø§Ø´ØªÙ…ØŒ ÛŒÚ©ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø±Ú¯Ø±Ø¯ÛŒÙ… Ø¨Ù‡ Ø¢Ù¾Ø´Ù† Ø§ÙˆÙ„ Ú©Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø¯Ù… ÛŒÙ‡ Ú†Ù„Ù†Ø¬ Ø±ÛŒ Ø§Ú©ØªÛŒ Ø¨Ù‡Ù… Ø¯Ø§Ø¯Ù‡ Ø¨Ø´Ù‡ ÛŒØ§ Ø§ÛŒÙ†Ú©Ù‡ Ø³Ø¹ÛŒ Ú©Ù†Ù… Ø§Ø² Ù¾Ø³ Ù‡Ù…ÛŒÙ† Ø¨Ø± Ø¨ÛŒØ§Ù…
Ú©Ù‡ ÛŒÙ‡ Ú¯Ù‡ÛŒ Ø®ÙˆØ±Ø¯Ù… Ùˆ Ø±Ø§Ù‡ Ø¯ÙˆÙ… Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù…. ğŸ˜

Ø®Ù„Ø§ØµÙ‡ Ú©Ù‡ Ø±ÙˆÙ†Ø¯ Ú©Ø§Ø± Ø¨Ù‡ Ø§ÛŒÙ† ØµÙˆØ±Øª Ø¨ÙˆØ¯ Ú©Ù‡ØŒ Ù…Ù† Ø¯ÛŒØ¯Ù… Ù‡Ø±Ú†ÛŒ Ù…ÛŒØ®ÙˆØ§Ù… ÛŒÙ‡ Ú†ÛŒØ²ÛŒ Ø¨Ø²Ù†Ù… Ù…ÛŒÙÙ‡Ù…Ù… ÛŒÙ‡ Ú†ÛŒØ²ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø¨Ù„Ø¯ Ù†ÛŒØ³ØªÙ…ØŒ Ø¯ÛŒÚ¯Ù‡ Ú¯ÙØªÙ… ÙØ§ÛŒØ¯Ù‡ Ù†Ø¯Ø§Ø±Ù‡ØŒ ÛŒÙ‡ Ù¾Ø±Ø§Ù…Ù¾ Ú¯Ù†Ø¯Ù‡ Ù†ÙˆØ´ØªÙ… ÙˆØ§Ø³Ù‡ Ú©Ø±Ø³Ø±ØŒ Ú¯ÙØªÙ… ØªÙˆÛŒ Û¶ Ú©Ø§Ù…ÛŒØª Ú©Ù„ Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ø¨Ø²Ù†Ù‡ Ø¨Ø±Ù‡
Ø§ÙˆÙ†Ù… Ú©Ù… Ù†Ø°Ø§Ø´Øª Ùˆ ÛŒÙ‡ Ù…Ø´Øª Ú†Ø±Øª Ùˆ Ù¾Ø±Øª ÙˆØ§Ø³Ù… ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ø¯ ÙˆÙ„ÛŒ Ø¨Ø¹Ø¯Ø´ ÛŒÙ‡ Ú†Ø§Ø±Ú†ÙˆØ¨ÛŒ Ø¯Ø§Ø´ØªÙ… Ú©Ù‡ Ø±ÙˆØ´ Ú©Ø§Ø± Ú©Ù†Ù…ØŒ Ø®Ù„Ø§ØµÙ‡ Ú©Ù‡ Û¶ Ú©Ø§Ù…ÛŒØª Ø§ÙˆÙ„ Ø±Ùˆ Ú©Ø±Ø³Ø± Ø²Ø¯ Ùˆ Ù…Ù† ÙÙ‚Ø· ÙˆØ§Ø³Ø´ Ø¯Ø³Øª Ù…ÛŒ Ø²Ø¯Ù…ØŒ Ø§Ù„Ø¨ØªÙ‡ Ø§ØµÙ„Ø§ Ú©Ø§Ù…Ù„ Ù†Ø¨ÙˆØ¯! Ú©Ø§Ù…ÛŒØª Ù‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ Ù‡Ù… Ø¯Ø§Ø´ØªÙ… Ø¯Ø± Ø§Ù‚ÛŒØ§Ù†ÙˆØ³ Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± Ø¯Ø³Øª Ùˆ Ù¾Ø§ Ù…ÛŒ Ø²Ø¯Ù… ØªØ§ Ø§ÛŒÙ†Ú©Ù‡ Ú©Ù… Ú©Ù… ÛŒÙ‡ Ù†Ø¸Ù…ÛŒ Ú¯Ø±ÙØª Ùˆ Ø¨Ù‡ Ø³Ù…ØªÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§Ø³ØªÙ… Ø±ÙØª Ùˆ Ø¨Ø§ Û²Û´ Ú©Ø§Ù…ÛŒØª Ø¯ÛŒÚ¯Ù‡ Ø±Ø³ÛŒØ¯ Ø¨Ù‡ Ø­Ø§Ù„Øª Ø§Ù„Ø§Ù†.

Ø®Ù„Ø§ØµÙ‡ Ú©Ù‡ Ø§ÛŒÙ† ØªØµÙ…ÛŒÙ…ÛŒ Ú©Ù‡ Ú¯Ø±ÙØªÙ… Ú¯ÛŒØª ÙÙ„Ùˆ Ø±Ùˆ Ù†Ø§ Ù…Ù†Ø¸Ù… Ú©Ø±Ø¯Ù‡ØŒ Ùˆ Ù…Ù† Ú†ÙˆÙ† Ù†Ù…ÛŒ ØªÙˆÙ†Ø³ØªÙ… Ø§Ø² Ù¾Ø§ÛŒÙ‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ø¯ÛŒØ²Ø§ÛŒÙ† Ú©Ù†Ù… Ù…Ø¬Ø¨ÙˆØ± Ø´Ø¯Ù… ØªÛŒÚ©Ù‡ ØªÛŒÚ©Ù‡ Ø¨Ù‡Ø¨ÙˆØ¯Ø´ Ø¨Ø¯Ù… ØªØ§ Ø¨Ù‡ Ø®Ø±ÙˆØ¬ÛŒ Ù…Ø·Ù„ÙˆØ¨ Ø¨Ø±Ø³ÛŒÙ….
Ø§Ú¯Ø± Ú©Ø§Ù…ÛŒØª Ù‡Ø§Ø±Ùˆ Ù‡Ù… Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒØ¯ Ù…ÛŒØ¨ÛŒÙ†ÛŒØ¯ Ú©Ù‡ ÛŒÙ‡ Ú†ÛŒØ²ÛŒ Ù¾ÛŒØ§Ø¯Ù‡ Ø´Ø¯Ù‡ØŒ Ø¨Ø¹Ø¯ Ú†Ù†Ø¯ Ø¨Ø§Ø± Ø¹ÙˆØ¶ Ø´Ø¯Ù‡ Ùˆ ÛŒØ§ Ø§ØµÙ„Ø§ Ú©Ù„Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø´Ø¯Ù‡.

**Ú†Ù‡ Ú©Ø§Ø±Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù…:**

Ù…ÙˆØ§Ø±Ø¯ÛŒ Ú©Ù‡ ØªÙˆÛŒ ÙØ§ÛŒÙ„ READM.me Ú¯ÙØªÙ‡ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯ Ù…Ø«Ù„ Ø¨Ø­Ø« Ù¾Ø±ÙÙˆØ±Ù…Ù†Ø³ Ø¬Ø¯ÙˆÙ„ ÛŒØ§ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨ÙˆØ¯Ù† Ø±Ùˆ Ø±Ø¹Ø§ÛŒØª Ú©Ø±Ø¯Ù….

Ø³Ø¹ÛŒ Ú©Ø±Ø¯Ù… Ú†ÛŒØ² Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ù„ÛŒ Ø§Ø² ÙØ±Ø§Ù†Øª Ø§Ù†Ø¯ Ø¨Ù„Ø¯ Ø¨ÙˆØ¯Ù… Ø±Ùˆ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù…ØŒ Ú†ÙˆÙ† Ø§Ù†Ú¯ÙˆÙ„Ø§Ø±ÛŒ ÙÚ©Ø± Ú©Ø±Ø¯Ù… ÙˆØ§Ø³Ù… Ø¯Ø´ÙˆØ§Ø± Ø¨ÙˆØ¯ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø§Ø±Ù‡. Ù…Ø«Ù„Ø§ generate Ú©Ø±Ø¯Ù† ØªØ§ÛŒÙ¾ api Ù‡Ø§ Ø§Ø² Ø±ÙˆÛŒ ÙØ§ÛŒÙ„ Ù‡Ø§ÛŒ Ù…Ø«Ø§Ù„ swagger Ùˆ Ø§Ø³ÙØ§Ø¯Ù‡ Ø§Ø² Adapter Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ ØªØ§ÛŒÙ¾ Ù‡Ø§ Ùˆ Ø¯ÛŒØªØ§ Ù‡Ø§

**Ú†Ù‡ Ú©Ø§Ø± Ù‡Ø§ÛŒÛŒ Ù†Ú©Ø±Ø¯Ù… Ùˆ Ø§Ú¯Ø± Ø§Ù„Ø§Ù† Ø¨Ø®ÙˆØ§Ù… Ø§Ø² Ø§ÙˆÙ„ Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ùˆ Ø¨Ø²Ù†Ù… Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù…:**

Ø§Ù„Ø§Ù† Ú©Ù‡ ÛŒÙ‡ Û´Û¸ Ø³Ø§Ø¹Øª Ø¨Ø§ Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± ÙˆØ± Ø±ÙØªÙ… Ø®ÛŒÙ„ÛŒ Ù…Ø³ÛŒØ± Ù‡Ø§ ÙˆØ§Ø³Ù… Ø±ÙˆØ´Ù† ØªØ±Ù‡ØŒ Ù…ÛŒØªÙˆÙ†Ù… Ø¨ÙÙ‡Ù…Ù… Ú†ÛŒØ§ Ø±Ùˆ Ù…ÛŒØªÙˆÙ†Ø³ØªÙ… Ø¨Ù‡ØªØ± Ø¯ÛŒØ²Ø§ÛŒÙ† Ú©Ù†Ù…ØŒ Ø§ÛŒÙ† Ø¯ÛŒØ¯ÛŒ Ø¨ÙˆØ¯ Ú©Ù‡ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ø§ØµÙ„Ø§ Ù†Ø¯Ø§Ø´ØªÙ….

Ø¨Ø§ Ú©Ø±Ø³Ø± Ø´Ø±ÙˆØ¹ Ù†Ù…ÛŒ Ú©Ø±Ø¯Ù…! Ø§ÛŒÙ† Ø±ÙˆØ´ÛŒ Ú©Ù‡ Ú©Ø±Ø³Ø± ÛŒÙ‡ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§ØºÙˆÙ† Ø¨Ø¯Ù‡ Ú©Ù‡ Ø±ÙˆØ´ Ú©Ø§Ø± Ú©Ù†Ù… Ùˆ Ù‡Ù… Ø²Ù…Ø§Ù† Ø§Ù†Ú¯ÙˆÙ„Ø§Ø± ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±Ù… Ø§Ú¯Ø± Ú†Ù‡ Ø¨Ù‡ Ù†Ø¸Ø±Ù… ØªÙ†Ù‡Ø§ Ø±Ø§Ù‡ Ø¨ÙˆØ¯ ÙˆÙ„ÛŒ Ø®ÛŒÙ„ÛŒ Ù…Ù†Ùˆ Ø¯Ø±Ú¯ÛŒØ± Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ú©Ø§Ø±ÛŒ Ú©Ø±Ø¯ØŒ Ú†ÙˆÙ† Ú©Ø±Ø³Ø± Ø¨Ù‡ Ø³Ø§Ø² Ø®ÙˆØ¯Ø´ Ø®ÛŒÙ„ÛŒ Ú†Ø±Øª Ùˆ Ù¾Ø±Øª ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ø¯ Ú©Ù‡ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ø±Ø¯Ù†Ø´ Ø§ØµÙ„Ø§ Ú©Ø§Ø± Ø³Ø§Ø¯Ù‡ Ù†Ø¨ÙˆØ¯ Ùˆ ÙÙˆÙ‚ Ø§Ù„Ø¹Ø§Ø¯Ù‡ ÙˆÙ‚Øª Ú¯ÛŒØ± Ùˆ Ú¯ÛŒØ¬ Ú©Ù†Ù†Ø¯Ù‡ Ø¨ÙˆØ¯.

ØªØ³Øª Ù…ÛŒ Ù†ÙˆØ´ØªÙ…! Ø­Ù‚ÛŒÙ‚ØªØ´ ØªÙ„Ø§Ø´ Ù‡Ù… Ú©Ø±Ø¯Ù… ØªÙˆÛŒ Ú©Ø§Ù…ÛŒØª Ù‡Ø§ ØªØ³Øª Ù‡Ø§Ø±Ùˆ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù…ØŒ ÙˆÙ„ÛŒ Ø®Ø¨ ØªØ³Øª Ù‡Ø§ Ø®ÛŒÙ„ÛŒ ai-generated Ùˆ Ù†Ù…Ø§ÛŒØ´ÛŒ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯ØŒ Ø¨ÛŒØ§ÛŒÙ† Ù‚Ø¨ÙˆÙ„ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ØªÙ† ØªØ³ØªÛŒ Ú©Ù‡ ÙˆØ§Ù‚Ø¹Ø§ Ø¨Ø§Ú¯ Ù‡Ø§Ø±Ùˆ Ú¯ÛŒØ± Ø¨Ù†Ø¯Ø§Ø²Ù‡ Ù‡Ù… Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø§Ù†Ø´  Ù‡Ø³Øª Ú©Ù‡ Ù…Ù† Ø­ØªÛŒ karma Ù‡Ù… Ø¨Ø±Ø§Ù… Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ø³.     Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ ØªØ±Ø¬ÛŒØ­ Ø¯Ø§Ø¯Ù… ØªØ³Øª Ù‡Ø§Ø±Ùˆ Ù¾Ø§Ú© Ú©Ù†Ù… ØªØ§ Ø§ÛŒÙ†Ú©Ù‡ ØªØ³Øª Ù‡Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù…. 


## UI Components Architecture


The application consists of 2 main pages with a hierarchical component structure:

### Component Hierarchy Diagram

```mermaid
graph TB
    %% Pages
    SalonsList[salons-list<br/>/salons]
    Plan[plan<br/>/plan/:map-id]

    %% Plan page components
    SeatTable[seat-table<br/>The seat map]
    Summary[selection-summary<br/>Booking summary]


    %% Component relationships
    Plan --> SeatTable
    Plan --> Summary

    %% Styling
    subgraph "Page Components"
        SalonsList
        Plan
    end

    subgraph "Feature Components"
        SeatTable
        Summary
    end


```

### Component Responsibilities

**salons-list**

- Displays available salons
- Handles navigation to seat selection

**plan**

- Container for seat selection workflow
- Manages state between child components

**seat-table**

- Renders interactive seat map
- Handles seat selection/deselection

**selection-summary**

- Shows selected seats summary
- Handles final booking confirmation

## Architecture Overview

The services are organized in a layered architecture with clear separation of concerns:

- **Core Layer**: Base infrastructure services
- **Adapter Layer**: Data transformation between API and domain models
- **Domain Layer**: Business logic services
- **UI Layer**: User interface services

Ø±Ø§Ø³ØªØ´Ùˆ Ø¨Ø®ÙˆØ§ÛŒØ¯ Ø§ÛŒÙ† Ú†ÛŒØ²ÛŒ Ø¨ÙˆØ¯ Ú©Ù‡ Ø®ÛŒÙ„ÛŒ Ø¯Ø± Ø³Ø± Ø¯Ø§Ø´ØªÙ… Ø§Ù†Ø¬Ø§Ù… Ø¨Ø´Ù‡ØŒ ØªØ§ Ø­Ø¯ÙˆØ¯ Ø®ÙˆØ¨ÛŒ Ù‡Ù… Ø¨Ù‡ Ø³Ù…ØªØ´ Ø±ÙØªÙ… ÙˆÙ„ÛŒ Ø®Ø¨ Ø§Ú¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø² Ø§Ø¨ØªØ¯Ø§ Ø¯ÛŒØ²Ø§ÛŒÙ† Ù…ÛŒØ´Ø¯ Ø®ÛŒÙ„ÛŒ Ø¨Ù‡ØªØ± Ù…ÛŒØ¨ÙˆØ¯ ØªÙˆ Ø§ÛŒÙ† Ø²Ù…ÛŒÙ†Ù‡.

## Service Descriptions

### Core Services

**ApiService** - Generic HTTP client with caching, error handling, and mock support

- Handles GET/POST requests with type safety
- Built-in response caching (configurable duration)
- Automatic error handling via ErrorHandlerService
- Mock response support for development

**ErrorHandlerService** - Centralized error management

- Translates HTTP errors to Persian user messages
- Integrates with ToastService for notifications
- Handles both network and application errors

### Adapter Services

**TicketAdapterService** - Data transformation layer

- Converts API responses to domain objects
- Isolates domain logic from API structure changes
- Handles seat map and ticket purchase transformations

### Domain Services

**MapService** - Stadium and ticket management

- Fetches available stadium maps
- Loads seat layouts with caching
- Processes ticket purchases
- Includes realistic mock data generation

### UI Services

**ToastService** - User notification system

- Success/error message display
- Auto-dismiss with configurable duration
- Observable-based state management

## Service Dependencies

```mermaid
graph TB
    %% UI Layer
    Toast[ToastService]

    %% Domain Layer
    Map[MapService]

    %% Adapter Layer
    Adapter[TicketAdapterService]

    %% Core Layer
    API[ApiService]
    Error[ErrorHandlerService]

    %% Dependencies
    Map --> API
    Map --> Adapter
    API --> Error
    Error --> Toast

    %% Layer groupings
    subgraph "UI Layer"
        Toast
    end

    subgraph "Domain Layer"
        Map
    end

    subgraph "Adapter Layer"
        Adapter
    end

    subgraph "Core Layer"
        API
        Error
    end

    %% External dependencies
    HTTP[HttpClient] --> API
    Components[Angular Components] --> Map
    Components --> Toast
```

## Fetures To mention

### Performance Optimizations

**Virtual Scrolling**

- `seat-table` component implements Angular CDK virtual scrolling for large seat maps (up to 10,000+ seats).
- _File: `src/app/plan/seat-table/seat-table.component.html`_

**OnPush Change Detection**

- All components use `ChangeDetectionStrategy.OnPush` to minimize change detection cycles.

**Event Delegation**

- `seat-table` uses single click listener on parent container instead of individual listeners per seat. Significantly reduces memory usage for large seat grids.
- _File: `src/app/plan/seat-table/seat-table.component.ts`_

**TrackBy Functions**

- Optimized `*ngFor` loops with trackBy functions prevent unnecessary DOM re-renders during data updates.
- _File: `src/app/plan/seat-table/seat-table.component.ts`_

### User Experience Features

**Keyboard Navigation**

- Full keyboard accessibility with Enter/Space key support for seat selection. ARIA labels and proper focus management.
- _Files: `src/app/plan/seat-table/seat-table`_

### State Management

**Immutable Updates**

- Selected seats tracked with Set data structure. Creates new Set references for proper change detection propagation to child components.
- _File: `src/app/plan/plan.component.ts`_

**Reactive State**

- RxJS observables with proper cleanup using `takeUntil` pattern. Prevents memory leaks on component destruction.
- _File: `src/app/plan/plan.component.ts`_

**Batch Purchase Processing**

- Handles multiple seat purchases concurrently with progress tracking and partial failure recovery.
- _File: `src/app/plan/plan.component.ts`_

### Architecture Patterns

**Smart/Dumb Components** - Clear separation between container (`plan`) and presentation components (`seat-table`, `selection-summary`).

## Service Features

### HTTP & API Management

**Generic API Service**

- Type-safe HTTP client with configurable caching, mock responses, and automatic error handling. Supports both GET/POST with proper TypeScript generics.
- _File: `src/app/services/core/api.service.ts`_

**Response Caching**

- Configurable cache duration per endpoint (default 5min). Automatic cache invalidation and manual cache clearing capabilities.
- _File: `src/app/services/core/api.service.ts`_

### Data Layer Architecture

**Adapter Pattern**

- Clean separation between API contracts and domain models. Transforms external API responses into internal application types.
- _File: `src/app/services/adapters/ticket-adapter.service.ts`_

**Generated API Types**

- TypeScript interfaces generated from Swagger/OpenAPI specs. Ensures type safety between frontend and backend contracts.
- _Files: `src/app/generated/ticket-purchase-api.ts`, `src/app/generated/seat-map-api.ts`, `src/app/generated/map-ids-api.ts`_

Ø§ÛŒÙ†Ø¬Ø§ ØªØµÙˆØ± Ú©Ø±Ø¯ÛŒÙ… Ø¨Ú© Ø§Ù†Ø¯ Ø¯ÙˆÙ„ÙˆÙ¾Ø± Ù‡Ø§ÛŒ Ù…Ù‡Ø±Ø¨ÙˆÙ† Ø¨Ù‡Ù…ÙˆÙ† Ø³ÙˆØ¹Ú¯Ø± Ø¯Ø§Ø¯Ù†

**Domain Model Isolation**

- Internal models (`AppSeatMap`, `AppTicketPurchase`) isolated from API changes. Business logic protected from external API modifications.
- _File: `src/app/models/index.ts`_

### Error Handling Strategy

**Centralized Error Management**

- Single service handles all error types (HTTP, network, application). Consistent error reporting across the application.
- _File: `src/app/services/core/error-handler.service.ts`_

## Ticket Purchase Flow

The following diagram shows the complete data flow when a user purchases tickets, from seat selection to final confirmation:

```mermaid
sequenceDiagram
    participant User
    participant PlanComponent as plan<br/>component
    participant SeatTableComponent as seat-table<br/>component
    participant SelectionSummaryComponent as selection-summary<br/>component
    participant MapService as map<br/>service
    participant ApiService as api<br/>service
    participant TicketAdapter as ticket-adapter<br/>service
    participant ErrorHandler as error-handler<br/>service
    participant ToastService as toast<br/>service

    User->>SeatTableComponent: Click seat
    SeatTableComponent->>SeatTableComponent: Check seat status<br/>(available/reserved)
    SeatTableComponent->>PlanComponent: Emit seatClick(coordinates)
    PlanComponent->>PlanComponent: Update selectedSeats Set<br/>(add/remove seat)
    PlanComponent->>PlanComponent: Create new Set reference<br/>(for change detection)
    PlanComponent->>SelectionSummaryComponent: Pass selectedSeats via @Input
    SelectionSummaryComponent->>SelectionSummaryComponent: Display seat count<br/>and coordinates

    User->>SelectionSummaryComponent: Click "Purchase" button
    SelectionSummaryComponent->>PlanComponent: Emit purchaseClicked()
    PlanComponent->>PlanComponent: Set purchasing = true
    PlanComponent->>PlanComponent: Get selected coordinates<br/>from Set

    loop For each selected seat
        PlanComponent->>MapService: purchaseTicket(mapId, {x, y})
        MapService->>TicketAdapter: Convert to API request format
        MapService->>ApiService: POST /map/{mapId}/ticket

        alt Real API call
            ApiService->>ApiService: Make HTTP POST request
        else Mock response (development)
            ApiService->>ApiService: Generate mock response<br/>(90% success rate)
        end

        alt Success response
            ApiService->>TicketAdapter: Return API response
            TicketAdapter->>MapService: Transform to domain object
            MapService->>PlanComponent: Return success result
            PlanComponent->>PlanComponent: Update seat status to RESERVED<br/>Remove from selectedSeats
        else Error response
            ApiService->>ErrorHandler: Handle HTTP error
            ErrorHandler->>ToastService: Show error message
            ErrorHandler->>MapService: Propagate error
            MapService->>PlanComponent: Return error result
            PlanComponent->>PlanComponent: Track failed purchase
        end
    end

    PlanComponent->>PlanComponent: Set purchasing = false<br/>Process completion results

    alt All purchases successful
        PlanComponent->>ToastService: Show success message
    else Partial success
        PlanComponent->>ToastService: Show success for completed
        PlanComponent->>ToastService: Show error for failures
    else All failed
        PlanComponent->>ToastService: Show error message
    end

    PlanComponent->>SelectionSummaryComponent: Update selectedSeats (empty Set)
    PlanComponent->>SeatTableComponent: Update seatMap (reserved seats)
```
